# دليل إدارة المستخدمين

## من إبداع الأستاذ: متعب بن مطير المتعب

---

## 🔐 صلاحيات المدير الجديدة

تم إضافة صلاحيات شاملة لإدارة المستخدمين للمدير فقط:

### ✅ الوظائف المتاحة:

1. **عرض جميع المستخدمين**
2. **حذف المستخدمين**
3. **تفعيل/إلغاء تفعيل الحسابات**
4. **إعادة تعيين كلمات المرور**
5. **عرض إحصائيات المستخدمين**

---

## 🚀 كيفية الوصول لإدارة المستخدمين:

### الطريقة الأولى: من القائمة الجانبية
1. **سجل دخول كمدير**
2. **في القائمة الجانبية اليسرى**
3. **اضغط على "إدارة المستخدمين"**

### الطريقة الثانية: الرابط المباشر
- محلياً: `http://localhost:5000/manage_users`
- سحابياً: `https://رابط-موقعك.up.railway.app/manage_users`

---

## 🗑️ حذف المستخدمين:

### الشروط المطلوبة للحذف:
- ✅ يجب أن يكون المستخدم بدون مهام مرتبطة
- ✅ لا يمكن للمدير حذف نفسه
- ✅ تأكيد مزدوج قبل الحذف

### خطوات الحذف:
1. **انتقل إلى صفحة إدارة المستخدمين**
2. **ابحث عن المستخدم المراد حذفه**
3. **تأكد من عدم وجود مهام مرتبطة به**
4. **اضغط على زر الحذف (🗑️)**
5. **أكد الحذف في النافذة المنبثقة**

### إذا كان للمستخدم مهام:
- ❌ **لن يمكن حذفه**
- 🔄 **أعد تعيين المهام لمستخدم آخر أولاً**
- 🔄 **أو احذف المهام المرتبطة**
- 🔄 **أو ألغِ تفعيل الحساب بدلاً من الحذف**

---

## ⏸️ تفعيل/إلغاء تفعيل المستخدمين:

### إلغاء التفعيل:
- 🔒 **المستخدم لن يتمكن من تسجيل الدخول**
- 🔒 **المهام المرتبطة به تبقى موجودة**
- 🔒 **يمكن إعادة تفعيله لاحقاً**

### إعادة التفعيل:
- ✅ **المستخدم يستطيع تسجيل الدخول مرة أخرى**
- ✅ **جميع بياناته محفوظة**

### خطوات التفعيل/الإلغاء:
1. **في صفحة إدارة المستخدمين**
2. **اضغط على زر التفعيل (⏸️/▶️)**
3. **سيتم التغيير فوراً**

---

## 🔑 إعادة تعيين كلمة المرور:

### الوظيفة:
- 🔄 **تعيين كلمة مرور افتراضية جديدة**
- 🔄 **كلمة المرور الجديدة: `password123`**
- 🔄 **يجب على المستخدم تغييرها عند الدخول**

### خطوات إعادة التعيين:
1. **في صفحة إدارة المستخدمين**
2. **اضغط على زر المفتاح (🔑)**
3. **أكد العملية**
4. **ستظهر كلمة المرور الجديدة**
5. **أبلغ المستخدم بكلمة المرور الجديدة**

---

## 📊 الإحصائيات المتاحة:

### في صفحة إدارة المستخدمين:
- 👥 **إجمالي المستخدمين**
- ✅ **المستخدمين النشطين**
- ⏸️ **المستخدمين المعطلين**
- 👑 **عدد المديرين**

### لكل مستخدم:
- 📋 **عدد المهام المرتبطة**
- 🏢 **وحدة العمل**
- 🎭 **المسمى الوظيفي**
- 📧 **البريد الإلكتروني**

---

## ⚠️ تنبيهات مهمة:

### للأمان:
- 🔒 **هذه الصلاحيات للمدير فقط**
- 🔒 **لا يمكن للمدير حذف نفسه**
- 🔒 **لا يمكن للمدير إلغاء تفعيل نفسه**
- 🔒 **حذف المستخدم عملية لا يمكن التراجع عنها**

### قبل الحذف:
- ⚠️ **تأكد من عدم الحاجة للمستخدم**
- ⚠️ **انسخ أي بيانات مهمة**
- ⚠️ **أعد تعيين المهام المرتبطة**
- ⚠️ **أبلغ المستخدم قبل الحذف**

### البدائل للحذف:
- 🔄 **إلغاء تفعيل الحساب**
- 🔄 **إعادة تعيين كلمة المرور**
- 🔄 **تغيير المسمى الوظيفي**

---

## 🛠️ حل المشاكل الشائعة:

### "لا يمكن حذف المستخدم":
- **السبب:** المستخدم لديه مهام مرتبطة
- **الحل:** أعد تعيين المهام أو احذفها أولاً

### "لا أرى زر الحذف":
- **السبب:** المستخدم لديه مهام أو أنت تحاول حذف نفسك
- **الحل:** تحقق من المهام المرتبطة

### "لا أستطيع الوصول لإدارة المستخدمين":
- **السبب:** ليس لديك صلاحية مدير
- **الحل:** تأكد من تسجيل الدخول كمدير

### "المستخدم المحذوف ما زال يظهر":
- **السبب:** مشكلة في التحديث
- **الحل:** حدث الصفحة أو أعد تسجيل الدخول

---

## 📱 للنشر السحابي:

### بعد إضافة الوظائف الجديدة:
1. **ارفع التحديثات إلى GitHub:**
   ```bash
   git add .
   git commit -m "إضافة صلاحيات إدارة المستخدمين للمدير"
   git push
   ```

2. **سيتم تحديث النظام السحابي تلقائياً**

3. **اختبر الوظائف الجديدة**

---

## 🎯 أفضل الممارسات:

### لإدارة آمنة:
- 🔐 **غير كلمة مرور المدير بانتظام**
- 🔐 **لا تشارك صلاحيات المدير**
- 🔐 **راجع المستخدمين بانتظام**
- 🔐 **ألغِ تفعيل الحسابات غير المستخدمة**

### لإدارة فعالة:
- 📋 **احتفظ بسجل للمستخدمين المحذوفين**
- 📋 **أبلغ المستخدمين بأي تغييرات**
- 📋 **راجع المهام قبل حذف المستخدمين**
- 📋 **استخدم إلغاء التفعيل بدلاً من الحذف عند الشك**

---

## 📞 الدعم الفني:

للمساعدة في إدارة المستخدمين أو أي مشاكل أخرى:

**الأستاذ: متعب بن مطير المتعب**
مطور النظام

---

## 🆕 التحديثات الجديدة:

### تم إضافة:
- ✅ **صفحة إدارة المستخدمين الشاملة**
- ✅ **وظيفة حذف المستخدمين مع الحماية**
- ✅ **تفعيل/إلغاء تفعيل الحسابات**
- ✅ **إعادة تعيين كلمات المرور**
- ✅ **إحصائيات تفصيلية**
- ✅ **واجهة سهلة الاستخدام**
- ✅ **تحديث العام إلى 2025**

---

*© 2025 - نظام إدارة مهام مركز الموهوبين بحائل*